<!-- BALISE JSON-LD pour Schema.org -->
<script type="application/ld+json">
<%= raw({
  "@context": "https://schema.org",
  "@type": "Person",
  "name": @author.name,
  "url": request.original_url,
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": request.original_url
  }
}.to_json) %>
</script>

<!-- CONTENU DE LA PAGE -->
<div class="container py-5">

  <!-- 🎯 Titre principal (H1) -->
  <h1 class="fw-bold mb-5 text-center" style="font-family: 'Playfair Display', serif;">
    Citations de <%= @author.name %>
  </h1>

  <% if @quotes.any? %>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

      <!-- Liste de citations -->
      <%= render partial: "quotes_web/quote_card", collection: @quotes, as: :quote %>

    </div>

    <!-- Lien vers la page Catégorie (s’il y a une seule catégorie pour toutes les citations) -->
    <% unique_category = @quotes.map(&:category).uniq.compact %>
    <% if unique_category.length == 1 %>
      <div class="text-center mt-5">
        <%= link_to "Explorer plus de citations sur le thème “#{unique_category.first.name}”", category_quotes_path(category: unique_category.first.slug), class: "btn btn-outline-primary" %>
      </div>
    <% end %>

  <% else %>
    <div class="alert alert-warning text-center mt-5">
      Aucune citation disponible pour cet auteur.
    </div>
  <% end %>

</div>
