<!-- HERO SECTION -->
<div class="hero-banner text-white d-flex align-items-center" style="background-image: url('<%= asset_path("hero.jpg") %>'); height: 450px; background-size: cover; background-position: center;">
  <div class="container mt-0 pt-0 z-2">
    <div class="row">
      <div class="col-md-6">
        <h1 class="display-4 fw-bold">Trouvez l'inspiration.<br><span class="text-gradient">Une citation Ã  la fois.</span></h1>
        <p class="lead">Explorez des pensÃ©es puissantes, partagez des mots qui touchent l'Ã¢me, imprimez ce qui vous Ã©lÃ¨ve.</p>
        <div class="d-flex gap-2">
          <%= link_to "Explorer les citations", quotes_path, class: "btn btn-primary" %>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CATEGORIES -->
<div class="bg-light py-5">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold fs-3">ğŸ’¬ Explorez les <strong>catÃ©gories</strong></h2>
      <p class="text-muted">Des citations inspirantes pour chaque univers.</p>
    </div>

    <% descriptions = {
      "amour" => "Citations sur l'amour et les sentiments.",
      "humour" => "Un brin de lÃ©gÃ¨retÃ© et d'esprit.",
      "litterature" => "Extraits et pensÃ©es dâ€™auteurs cÃ©lÃ¨bres.",
      "motivation" => "Pour booster ton moral et ta volontÃ©.",
      "sagesse" => "RÃ©flexions profondes et universelles.",
      "vie" => "Sur le sens, le quotidien et lâ€™existence."
    } %>

    <% categories = ["amour", "humour", "litterature", "motivation", "sagesse", "vie"] %>

    <% categories.each_slice(3).with_index do |row, index| %>
      <div class="row justify-content-center g-4 <%= 'mb-4' unless index == 1 %>">
        <% row.each do |category| %>
          <div class="col-10 col-sm-6 col-md-4">
            <div class="card category-card ratio ratio-1x1 overflow-hidden shadow-sm">
              <%= link_to category_quotes_path(category: category), class: "stretched-link text-decoration-none" do %>
                <%= image_tag "categories/#{category}.jpg", class: "w-100 h-100 object-fit-cover category-img", alt: category.capitalize %>
                <div class="card-img-overlay d-flex flex-column justify-content-end p-3 bg-gradient">
                  <h5 class="text-white fw-bold"><%= category.capitalize %></h5>
                  <p class="text-white small mb-0"><%= descriptions[category] %></p>
                </div>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

<!-- POPULAR AUTHORS -->
<% if @popular_authors.present? %>
  <div class="bg-white py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="fw-bold fs-3">ğŸ‘¥ AuteurÂ·iceÂ·s populaires</h2>
        <p class="text-muted">Les voix les plus consultÃ©es par notre communautÃ©.</p>
      </div>

      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
        <% @popular_authors.each do |author| %>
          <div class="col">
            <%= link_to author_quotes_path(author), class: "text-decoration-none" do %>
              <div class="card h-100 border-0 shadow-sm hover-shadow rounded-4 p-4" style="background-color: #fffaf3;">
                <h5 class="fw-bold mb-1" style="font-family: 'Playfair Display', serif;"><%= author.name %></h5>
                <p class="text-muted small mb-0">
                  <%= pluralize(author.quotes.count, "citation") %>
                </p>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
<% end %>


<!-- ALL QUOTES PREVIEW -->
<div class="container py-5">
  <div class="text-center mb-5">
    <h2 class="fw-bold fs-3">ğŸ“š Citations</h2>
    <p class="text-muted">Un aperÃ§u de nos meilleures pensÃ©es.</p>
  </div>

  <% if @quotes.any? %>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4">
      <%= render partial: "quotes_web/quote_card", collection: @quotes, as: :quote %>
    </div>

    <div class="text-center mt-4">
      <%= link_to "Voir plus de citations", quotes_path, class: "btn btn-outline-primary" %>
    </div>
  <% else %>
    <p class="text-center text-muted">Aucune citation Ã  afficher.</p>
  <% end %>
</div>
